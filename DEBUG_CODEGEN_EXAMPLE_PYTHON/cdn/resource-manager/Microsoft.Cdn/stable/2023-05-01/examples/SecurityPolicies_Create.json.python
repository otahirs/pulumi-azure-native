import pulumi
import pulumi_azure_native as azure_native

security_policy = azure_native.cdn.SecurityPolicy("securityPolicy",
    parameters=azure_native.cdn.SecurityPolicyWebApplicationFirewallParametersResponseArgs(
        associations=[{
            "domains": [
                azure_native.cdn.ActivatedResourceReferenceArgs(
                    id="/subscriptions/subid/resourcegroups/RG/providers/Microsoft.Cdn/profiles/profile1/customdomains/testdomain1",
                ),
                azure_native.cdn.ActivatedResourceReferenceArgs(
                    id="/subscriptions/subid/resourcegroups/RG/providers/Microsoft.Cdn/profiles/profile1/customdomains/testdomain2",
                ),
            ],
            "patternsToMatch": ["/*"],
        }],
        type="WebApplicationFirewall",
        waf_policy=azure_native.cdn.ResourceReferenceArgs(
            id="/subscriptions/subid/resourcegroups/RG/providers/Microsoft.Network/frontdoorwebapplicationfirewallpolicies/wafTest",
        ),
    ),
    profile_name="profile1",
    resource_group_name="RG",
    security_policy_name="securityPolicy1")
