// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.AzureNative.Compute.V20230301
{
    /// <summary>
    /// The source user image virtual hard disk. The virtual hard disk will be copied before being attached to the virtual machine. If SourceImage is provided, the destination virtual hard drive must not exist.
    /// 
    /// ## Example Usage
    /// ### Create a virtual machine image from a blob with DiskEncryptionSet resource.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 BlobUri = "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
    ///                 DiskEncryptionSet = new AzureNative.Compute.V20230301.Inputs.DiskEncryptionSetParametersArgs
    ///                 {
    ///                     Id = "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}",
    ///                 },
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image from a blob.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 BlobUri = "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///             },
    ///             ZoneResilient = true,
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image from a managed disk with DiskEncryptionSet resource.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 DiskEncryptionSet = new AzureNative.Compute.V20230301.Inputs.DiskEncryptionSetParametersArgs
    ///                 {
    ///                     Id = "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}",
    ///                 },
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///                 Snapshot = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///                 {
    ///                     Id = "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot",
    ///                 },
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image from a managed disk.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 ManagedDisk = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///                 {
    ///                     Id = "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk",
    ///                 },
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///             },
    ///             ZoneResilient = true,
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image from a snapshot with DiskEncryptionSet resource.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 DiskEncryptionSet = new AzureNative.Compute.V20230301.Inputs.DiskEncryptionSetParametersArgs
    ///                 {
    ///                     Id = "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/diskEncryptionSets/{existing-diskEncryptionSet-name}",
    ///                 },
    ///                 ManagedDisk = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///                 {
    ///                     Id = "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk",
    ///                 },
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image from a snapshot.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///                 Snapshot = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///                 {
    ///                     Id = "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot",
    ///                 },
    ///             },
    ///             ZoneResilient = false,
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image from an existing virtual machine.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         SourceVirtualMachine = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///         {
    ///             Id = "/subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/virtualMachines/myVM",
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image that includes a data disk from a blob.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             DataDisks = new[]
    ///             {
    ///                 new AzureNative.Compute.V20230301.Inputs.ImageDataDiskArgs
    ///                 {
    ///                     BlobUri = "https://mystorageaccount.blob.core.windows.net/dataimages/dataimage.vhd",
    ///                     Lun = 1,
    ///                 },
    ///             },
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 BlobUri = "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd",
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///             },
    ///             ZoneResilient = false,
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image that includes a data disk from a managed disk.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             DataDisks = new[]
    ///             {
    ///                 new AzureNative.Compute.V20230301.Inputs.ImageDataDiskArgs
    ///                 {
    ///                     Lun = 1,
    ///                     ManagedDisk = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///                     {
    ///                         Id = "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk2",
    ///                     },
    ///                 },
    ///             },
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 ManagedDisk = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///                 {
    ///                     Id = "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk",
    ///                 },
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///             },
    ///             ZoneResilient = false,
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a virtual machine image that includes a data disk from a snapshot.
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var image = new AzureNative.Compute.V20230301.Image("image", new()
    ///     {
    ///         ImageName = "myImage",
    ///         Location = "West US",
    ///         ResourceGroupName = "myResourceGroup",
    ///         StorageProfile = new AzureNative.Compute.V20230301.Inputs.ImageStorageProfileArgs
    ///         {
    ///             DataDisks = new[]
    ///             {
    ///                 new AzureNative.Compute.V20230301.Inputs.ImageDataDiskArgs
    ///                 {
    ///                     Lun = 1,
    ///                     Snapshot = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///                     {
    ///                         Id = "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot2",
    ///                     },
    ///                 },
    ///             },
    ///             OsDisk = new AzureNative.Compute.V20230301.Inputs.ImageOSDiskArgs
    ///             {
    ///                 OsState = AzureNative.Compute.V20230301.OperatingSystemStateTypes.Generalized,
    ///                 OsType = AzureNative.Compute.V20230301.OperatingSystemTypes.Linux,
    ///                 Snapshot = new AzureNative.Compute.V20230301.Inputs.SubResourceArgs
    ///                 {
    ///                     Id = "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot",
    ///                 },
    ///             },
    ///             ZoneResilient = true,
    ///         },
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// 
    /// ## Import
    /// 
    /// An existing resource can be imported using its type token, name, and identifier, e.g.
    /// 
    /// ```sh
    /// $ pulumi import azure-native:compute/v20230301:Image myImage /subscriptions/{subscription-id}/resourceGroups/disk/providers/Microsoft.Compute/images/myImage 
    /// ```
    /// </summary>
    [AzureNativeResourceType("azure-native:compute/v20230301:Image")]
    public partial class Image : global::Pulumi.CustomResource
    {
        /// <summary>
        /// The extended location of the Image.
        /// </summary>
        [Output("extendedLocation")]
        public Output<Outputs.ExtendedLocationResponse?> ExtendedLocation { get; private set; } = null!;

        /// <summary>
        /// Specifies the HyperVGenerationType of the VirtualMachine created from the image. From API Version 2019-03-01 if the image source is a blob, then we need the user to specify the value, if the source is managed resource like disk or snapshot, we may require the user to specify the property if we cannot deduce it from the source managed resource.
        /// </summary>
        [Output("hyperVGeneration")]
        public Output<string?> HyperVGeneration { get; private set; } = null!;

        /// <summary>
        /// Resource location
        /// </summary>
        [Output("location")]
        public Output<string> Location { get; private set; } = null!;

        /// <summary>
        /// Resource name
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// The provisioning state.
        /// </summary>
        [Output("provisioningState")]
        public Output<string> ProvisioningState { get; private set; } = null!;

        /// <summary>
        /// The source virtual machine from which Image is created.
        /// </summary>
        [Output("sourceVirtualMachine")]
        public Output<Outputs.SubResourceResponse?> SourceVirtualMachine { get; private set; } = null!;

        /// <summary>
        /// Specifies the storage settings for the virtual machine disks.
        /// </summary>
        [Output("storageProfile")]
        public Output<Outputs.ImageStorageProfileResponse?> StorageProfile { get; private set; } = null!;

        /// <summary>
        /// Resource tags
        /// </summary>
        [Output("tags")]
        public Output<ImmutableDictionary<string, string>?> Tags { get; private set; } = null!;

        /// <summary>
        /// Resource type
        /// </summary>
        [Output("type")]
        public Output<string> Type { get; private set; } = null!;


        /// <summary>
        /// Create a Image resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public Image(string name, ImageArgs args, CustomResourceOptions? options = null)
            : base("azure-native:compute/v20230301:Image", name, args ?? new ImageArgs(), MakeResourceOptions(options, ""))
        {
        }

        private Image(string name, Input<string> id, CustomResourceOptions? options = null)
            : base("azure-native:compute/v20230301:Image", name, null, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                Aliases =
                {
                    new global::Pulumi.Alias { Type = "azure-native:compute:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20160430preview:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20170330:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20171201:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20180401:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20180601:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20181001:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20190301:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20190701:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20191201:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20200601:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20201201:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20210301:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20210401:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20210701:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20211101:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20220301:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20220801:Image"},
                    new global::Pulumi.Alias { Type = "azure-native:compute/v20221101:Image"},
                },
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing Image resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static Image Get(string name, Input<string> id, CustomResourceOptions? options = null)
        {
            return new Image(name, id, options);
        }
    }

    public sealed class ImageArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The extended location of the Image.
        /// </summary>
        [Input("extendedLocation")]
        public Input<Inputs.ExtendedLocationArgs>? ExtendedLocation { get; set; }

        /// <summary>
        /// Specifies the HyperVGenerationType of the VirtualMachine created from the image. From API Version 2019-03-01 if the image source is a blob, then we need the user to specify the value, if the source is managed resource like disk or snapshot, we may require the user to specify the property if we cannot deduce it from the source managed resource.
        /// </summary>
        [Input("hyperVGeneration")]
        public InputUnion<string, Pulumi.AzureNative.Compute.V20230301.HyperVGenerationTypes>? HyperVGeneration { get; set; }

        /// <summary>
        /// The name of the image.
        /// </summary>
        [Input("imageName")]
        public Input<string>? ImageName { get; set; }

        /// <summary>
        /// Resource location
        /// </summary>
        [Input("location")]
        public Input<string>? Location { get; set; }

        /// <summary>
        /// The name of the resource group.
        /// </summary>
        [Input("resourceGroupName", required: true)]
        public Input<string> ResourceGroupName { get; set; } = null!;

        /// <summary>
        /// The source virtual machine from which Image is created.
        /// </summary>
        [Input("sourceVirtualMachine")]
        public Input<Inputs.SubResourceArgs>? SourceVirtualMachine { get; set; }

        /// <summary>
        /// Specifies the storage settings for the virtual machine disks.
        /// </summary>
        [Input("storageProfile")]
        public Input<Inputs.ImageStorageProfileArgs>? StorageProfile { get; set; }

        [Input("tags")]
        private InputMap<string>? _tags;

        /// <summary>
        /// Resource tags
        /// </summary>
        public InputMap<string> Tags
        {
            get => _tags ?? (_tags = new InputMap<string>());
            set => _tags = value;
        }

        public ImageArgs()
        {
        }
        public static new ImageArgs Empty => new ImageArgs();
    }
}
