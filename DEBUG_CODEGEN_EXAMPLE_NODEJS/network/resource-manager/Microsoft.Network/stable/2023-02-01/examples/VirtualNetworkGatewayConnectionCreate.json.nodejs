import * as pulumi from "@pulumi/pulumi";
import * as azure_native from "@pulumi/azure-native";

const virtualNetworkGatewayConnection = new azure_native.network.VirtualNetworkGatewayConnection("virtualNetworkGatewayConnection", {
    connectionMode: "Default",
    connectionProtocol: "IKEv2",
    connectionType: "IPsec",
    dpdTimeoutSeconds: 30,
    egressNatRules: [{
        id: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworkGateways/vpngw/natRules/natRule2",
    }],
    enableBgp: false,
    gatewayCustomBgpIpAddresses: [
        {
            customBgpIpAddress: "169.254.21.1",
            ipConfigurationId: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworkGateways/vpngw/ipConfigurations/default",
        },
        {
            customBgpIpAddress: "169.254.21.3",
            ipConfigurationId: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworkGateways/vpngw/ipConfigurations/ActiveActive",
        },
    ],
    ingressNatRules: [{
        id: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworkGateways/vpngw/natRules/natRule1",
    }],
    ipsecPolicies: [],
    localNetworkGateway2: {
        gatewayIpAddress: "x.x.x.x",
        id: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/localNetworkGateways/localgw",
        localNetworkAddressSpace: {
            addressPrefixes: ["10.1.0.0/16"],
        },
        location: "centralus",
        tags: {},
    },
    location: "centralus",
    resourceGroupName: "rg1",
    routingWeight: 0,
    sharedKey: "Abc123",
    trafficSelectorPolicies: [],
    usePolicyBasedTrafficSelectors: false,
    virtualNetworkGateway1: {
        activeActive: false,
        bgpSettings: {
            asn: 65514,
            bgpPeeringAddress: "10.0.1.30",
            peerWeight: 0,
        },
        enableBgp: false,
        gatewayType: "Vpn",
        id: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworkGateways/vpngw",
        ipConfigurations: [{
            id: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworkGateways/vpngw/ipConfigurations/gwipconfig1",
            name: "gwipconfig1",
            privateIPAllocationMethod: "Dynamic",
            publicIPAddress: {
                id: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/gwpip",
            },
            subnet: {
                id: "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/GatewaySubnet",
            },
        }],
        location: "centralus",
        sku: {
            name: "VpnGw1",
            tier: "VpnGw1",
        },
        tags: {},
        vpnType: "RouteBased",
    },
    virtualNetworkGatewayConnectionName: "connS2S",
});
