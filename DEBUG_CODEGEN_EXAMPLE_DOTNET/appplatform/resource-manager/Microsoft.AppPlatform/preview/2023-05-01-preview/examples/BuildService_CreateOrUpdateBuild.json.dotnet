using System.Collections.Generic;
using System.Linq;
using Pulumi;
using AzureNative = Pulumi.AzureNative;

return await Deployment.RunAsync(() => 
{
    var buildServiceBuild = new AzureNative.AppPlatform.BuildServiceBuild("buildServiceBuild", new()
    {
        BuildName = "mybuild",
        BuildServiceName = "default",
        Properties = new AzureNative.AppPlatform.Inputs.BuildPropertiesArgs
        {
            AgentPool = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.AppPlatform/Spring/myservice/buildServices/default/agentPools/default",
            Apms = new[]
            {
                new AzureNative.AppPlatform.Inputs.ApmReferenceArgs
                {
                    ResourceId = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.AppPlatform/Spring/myservice/apms/myappinsights",
                },
            },
            Builder = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.AppPlatform/Spring/myservice/buildServices/default/builders/default",
            Certificates = new[]
            {
                new AzureNative.AppPlatform.Inputs.CertificateReferenceArgs
                {
                    ResourceId = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.AppPlatform/Spring/myservice/certificates/mycert1",
                },
                new AzureNative.AppPlatform.Inputs.CertificateReferenceArgs
                {
                    ResourceId = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.AppPlatform/Spring/myservice/certificates/mycert2",
                },
            },
            Env = 
            {
                { "environmentVariable", "test" },
            },
            RelativePath = "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855-20210601-3ed9f4a2-986b-4bbd-b833-a42dccb2f777",
            ResourceRequests = new AzureNative.AppPlatform.Inputs.BuildResourceRequestsArgs
            {
                Cpu = "1",
                Memory = "2Gi",
            },
        },
        ResourceGroupName = "myResourceGroup",
        ServiceName = "myservice",
    });

});

