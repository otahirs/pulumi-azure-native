using System.Collections.Generic;
using System.Linq;
using Pulumi;
using AzureNative = Pulumi.AzureNative;

return await Deployment.RunAsync(() => 
{
    var deploymentStackAtManagementGroup = new AzureNative.Resources.DeploymentStackAtManagementGroup("deploymentStackAtManagementGroup", new()
    {
        ActionOnUnmanage = new AzureNative.Resources.Inputs.DeploymentStackPropertiesActionOnUnmanageArgs
        {
            ManagementGroups = "detach",
            ResourceGroups = "delete",
            Resources = "delete",
        },
        DenySettings = new AzureNative.Resources.Inputs.DenySettingsArgs
        {
            ApplyToChildScopes = false,
            ExcludedActions = new[]
            {
                "action",
            },
            ExcludedPrincipals = new[]
            {
                "principal",
            },
            Mode = "denyDelete",
        },
        DeploymentStackName = "simpleDeploymentStack",
        Location = "eastus",
        ManagementGroupId = "myMg",
        Parameters = 
        {
            { "parameter1", 
            {
                { "value", "a string" },
            } },
        },
        Tags = 
        {
            { "tagkey", "tagVal" },
        },
    });

});

