using System.Collections.Generic;
using System.Linq;
using Pulumi;
using AzureNative = Pulumi.AzureNative;

return await Deployment.RunAsync(() => 
{
    var firewallPolicyRuleGroup = new AzureNative.Network.FirewallPolicyRuleGroup("firewallPolicyRuleGroup", new()
    {
        FirewallPolicyName = "firewallPolicy",
        Priority = 110,
        ResourceGroupName = "rg1",
        RuleGroupName = "ruleGroup1",
        Rules = new[]
        {
            new AzureNative.Network.Inputs.FirewallPolicyFilterRuleArgs
            {
                Action = new AzureNative.Network.Inputs.FirewallPolicyFilterRuleActionArgs
                {
                    Type = "Deny",
                },
                Name = "Example-Filter-Rule",
                RuleConditions = new[]
                {
                    new AzureNative.Network.Inputs.NetworkRuleConditionArgs
                    {
                        DestinationIpGroups = new[]
                        {
                            "/subscriptions/subid/providers/Microsoft.Network/resourceGroup/rg1/ipGroups/ipGroups2",
                        },
                        DestinationPorts = new[]
                        {
                            "*",
                        },
                        IpProtocols = new[]
                        {
                            "TCP",
                        },
                        Name = "network-condition1",
                        RuleConditionType = "NetworkRuleCondition",
                        SourceIpGroups = new[]
                        {
                            "/subscriptions/subid/providers/Microsoft.Network/resourceGroup/rg1/ipGroups/ipGroups1",
                        },
                    },
                },
                RuleType = "FirewallPolicyFilterRule",
            },
        },
    });

});

